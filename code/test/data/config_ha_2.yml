---

# data to test resource validation

a:  # minimal OK
  apps:
    test:
      resources:
        test_ip_a:
          plugin: '_test3'
          plugin_args: 'p1 p2'
          vital: true
          mode: 'as'
  _TEST: true
  _TEST_NSTDOUT: 'ERROR|WARNING|INFO'

b:  # minimal fail
  apps:
    test:
      resources:
        test_ip_b:
          _placeholder: ''
  _TEST: false
  _TEST_STDOUT: 'ERROR'

c:  # invalid plugin
  apps:
    test:
      resources:
        test_ip_c:
          plugin: 'doesNotExit'
  _TEST: false
  _TEST_STDOUT: 'ERROR'

d:  # no arguments when they are needed
  apps:
    test:
      resources:
        test_ip_d:
          plugin: '_test3'
  _TEST: false
  _TEST_STDOUT: 'ERROR'

e:  # too few arguments
  apps:
    test:
      resources:
        test_ip_e:
          plugin: '_test3'
          plugin_args: 'placeholder'
  _TEST: false
  _TEST_STDOUT: 'ERROR'

f:  # no arguments when none are needed
  apps:
    test:
      resources:
        test_ip_f:
          plugin: '_test1'
          vital: true
          mode: 'as'
  _TEST: true
  _TEST_STDOUT: 'INFO'
  _TEST_NSTDOUT: 'ERROR|WARNING'

g:  # no vitality
  apps:
    test:
      resources:
        test_ip_g:
          plugin: '_test3'
          plugin_args: 'p1 p2'
          mode: 'as'
  _TEST: true
  _TEST_STDOUT: 'INFO'
  _TEST_NSTDOUT: 'ERROR|WARNING'

h:  # invalid mode
  apps:
    test:
      resources:
        test_ip_h:
          plugin: '_test3'
          plugin_args: 'p1 p2'
          mode: 'doesNotExist'
          vital: true
  _TEST: false
  _TEST_STDOUT: 'ERROR'

i:  # unsupported mode if fallback is provided by plugin
  apps:
    test:
      resources:
        test_ip_i:
          plugin: '_test1'
          plugin_args: 'placeholder'
          mode: 'as'
          vital: true
  _TEST: true
  _TEST_STDOUT: 'WARNING'
  _TEST_NSTDOUT: 'ERROR|INFO'

j:  # unsupported mode without fallback
  apps:
    test:
      resources:
        test_ip_j:
          plugin: '_test2'
          plugin_args: '-i=127.0.1.1 -d=lo'
          mode: 'as'
          vital: true
  _TEST: false
  _TEST_STDOUT: 'ERROR'
